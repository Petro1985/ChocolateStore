@using ChocolateUI.Pages.Components
@using Models.Photo
@inject IUserProfile UserProfile

@foreach (var item in Photos)
{
    <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12">
        <a href="#">
            <div class="card position-relative mb-1">
                @if (UserProfile.IsAdmin())
                {
                    <DeleteItem DeleteFunction="RemovePhoto" Element="item" TItem="Guid"></DeleteItem>
                }
                <img class="img-thumbnail" src="https://localhost:7213/image/@item"/>
            </div>
        </a>
    </div>
}

@code
{
    [Parameter]
    public IEnumerable<Guid> Photos { get; set; }
    [Parameter]
    public Func<Guid, Task> RemovePhotoFunc { get; set; }

    private async Task RemovePhoto(Guid photoId)
    {
        await RemovePhotoFunc(photoId);
    }
}
