<div class="container-fluid">
  <nav class="navbar navbar-light">
    <a class="navbar-brand logo-container" href="#">
      <img alt="Chocolate Store Logo" ngSrc="./assets/chocolate-logo.svg" priority class="logo-img" width="140" height="60"/>
    </a>

    <div class="header__tools-container">
      <div class="search-container">
        <input #searchInput type="text" 
               class="form-control header__search-input" 
               placeholder="{{'поиск' | translate}}" 
               aria-label="Search"
               autocomplete="off">
        <i class="search-icon bi bi-search"></i>

        <!-- Search Results Dropdown -->
        @if (productResults.length > 0 || categoryResults.length > 0) {
          <div class="search-results">
            @if (categoryResults.length > 0) {
              <div class="search-results__section">
                <h6 class="search-results__title">Категории</h6>
                @for (category of categoryResults; track category.id) {
                  <div class="search-result-item" (click)="onCategoryClick(category)">
                    <img [src]="getImageUrl(category.mainPhotoId)" class="search-result-item__image" alt="category">
                    <span class="search-result-item__name">{{ category.name }}</span>
                  </div>
                }
              </div>
            }

            @if (productResults.length > 0) {
              <div class="search-results__section">
                <h6 class="search-results__title">Продукты</h6>
                @for (product of productResults; track product.id) {
                  <div class="search-result-item" (click)="onProductClick(product)">
                    <img [src]="getImageUrl(product.mainPhotoId)" class="search-result-item__image" alt="product">
                    <span class="search-result-item__name">{{ product.name }}</span>
                  </div>
                }
              </div>
            }
          </div>
        }
      </div>

      <select class="form-select header__language-select" (change)="onLanguageChange($event)">
        <option value="ru">Русский</option>
        <option value="en">English</option>
      </select>
    </div>

    <div class="login-wrapper" (click)="onLoginClick()">
      <img ngSrc="./assets/Icons/login.svg" alt="login" width="24" height="24"/>
      <span class="login-text">Войти</span>
    </div>

    <app-modal [id]="'loginModal'" #loginModal [width]="500" [height]="50" >
      <app-login-form></app-login-form>
    </app-modal>

    <app-modal [id]="'signupModal'" #signupModal [width]="500" [height]="70" >
      <app-signup-form></app-signup-form>
    </app-modal>
  </nav>
</div>
